<html>
<head>
    <title>Async with Promise</title>
</head>
<body>



    <script type="text/javascript" >

        // => without async & await

        // url = Uniform Resource Locator

        const urls = [
            'https://jsonplaceholder.typicode.com/users',
            'https://jsonplaceholder.typicode.com/posts',
            'https://jsonplaceholder.typicode.com/comments'
        ];

        Promise.all(urls.map(url=>{
            return fetch(url).then(response=>response.json());
        })).then(results=>{
            console.log(results);
        }).catch(err=>console.log('error = ',err))
            .finally(()=>console.log('i am working'));


        // => using async & await

        // uri = uniform Resource Identifier

        const uris = [
            'https://jsonplaceholder.typicode.com/users',
            'https://jsonplaceholder.typicode.com/posts',
            'https://jsonplaceholder.typicode.com/comments'
        ];

        const getdatas = async function(){

            const [users,posts,comments] = await Promse.all(uris.map(uri=>fetch(uri).then(response=>response.json())));

            console.log(users);
            console.log(posts);
            console.log(comments);

        }

        getdatas();

    </script>
</body>
</html>

<!-- 30AC -->