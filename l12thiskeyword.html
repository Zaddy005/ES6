<!DOCTYPE html>
<html>
<head>
    <title>This Keyword</title>
</head>
<body>


    <script type="text/javascript" >

        // Fat Arrow Function ( => Fat Arrow )
        // Lexical Scope (this)

        // Name Less Regular Function = this work
        // Name Less Arrow Function = this not working

        // Callback Regular Function = this not working
        // Callback Arrow Function = work

        // Window is Global Scope in Nodejs
        function greeting(){
            console.log("Good Night");
            console.log(this);
        }

        greeting(); // Good Night // Window {window: Window, self: Window, document: document, name: '', location: Location, …}

        const sayhi = function(){
            console.log(this);
        }

        sayhi(); // Window {window: Window, self: Window, document: document, name: '', location: Location, …}

        const hifi = ()=>{
            console.log(this);
        }

        hifi(); // Window {window: Window, self: Window, document: document, name: '', location: Location, …}


        // let and const are not added value to Window Global Scope
        // => Terminal type var name = "aung aung";
        // => Terminal type name;   // aung aung
        // => Terminal type window.name; // aung aung
        // => Terminal type window; ( extend windows > name ( yes ) )

        // => Terminal type let name = "su su";
        // => Terminal type name;   // su su
        // => Terminal type window.name; // su su
        // => Terminal type window; ( extend windows > name ( no ) )

        // => Terminal type const name = "thiha";
        // => Terminal type name;   // thiha
        // => Terminal type window.name; // thiha
        // => Terminal type window; ( extend windows > name ( no ) )

        // => Terminal type var gender = "male";
        // => Terminal type gender;   // male
        // => Terminal type window.gender; // mlae
        // => Terminal type window; ( extend windows > gender ( yes ) )

        const items = {
            product:"iphone 15",
            price:2000,
            info:function(){
                return `${this.product} Price is base on ${this.price} USD`; // iphone 15 price is base on 2000 USD
            },

            discount:()=>{
                return `${this.product} Price is base on ${this.price} USD`; // Undefined price is base on Undefined USD
            }
        };

        console.log(items);
        console.log(items.info());
        console.log(items.discount());

        const group = {
            members:["aung aung","su su"],
            groupname:"Frontend Designer",
            groupmembers:()=>{
                console.log(`There are 2 members on thi ${this.groupname} group.`);
            },
            groupinfo:function(){
                return this.members.map(member=>{
                    console.log(`${member} is on ${this.groupname} group`);
                });
            },
            groupsay:function(){
                return this.members.map(function(member){
                    console.log(`${member} is key press on this ${this.groupname} group.`);
                });
            }

        }

        group.groupmembers();
        group.groupinfo();
        group.groupsay();


        function createitem(invetory){
            return{
                inventory,
                itemvalue:function (){
                    return this.inventory.reduce((total,curr)=>{
                        total += curr.price;
                        return total;
                    },0)
                }
            }
        }

        const inventory = [
            {title:"Redbull",price:1500},
            {title:"Sponsor",price:1000}
        ];

        const getresult = createitem(inventory);
        console.log(getresult);
        console.log(getresult.itemvalue());


    </script>
</body>
</html>